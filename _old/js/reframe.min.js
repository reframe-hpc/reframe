var reframe={};!function(a){var b="";a.read_file_contents=function(a,b){var c=new XMLHttpRequest;c.open("GET",a,!1);var d="";c.onreadystatechange=function(){4===c.readyState&&(200!==c.status&&0!=c.status||(d=c.responseText,"function"==typeof b&&b(d)))},c.send(null)},a.setup_site_content=function(b,c,d){a.read_file_contents(b,function(b){document.getElementById("cscs-site-content").innerHTML=b}),a.read_file_contents(c,function(c){marked.setOptions({gfm:!0,tables:!0,breaks:!1,pedantic:!0,sanitize:!1,smartLists:!0,langPrefix:""}),marked(c,function(a,b){if(a)throw a;document.getElementById("cscs-leftbar-markdown").innerHTML=b}),a.__correct_navbar()}),null!=d?a.read_file_contents(d,function(b){marked.setOptions({gfm:!0,tables:!0,breaks:!1,pedantic:!0,sanitize:!1,smartLists:!0,langPrefix:""}),marked(b,function(a,b){if(a)throw a;document.getElementById("cscs-jumbotron-content").innerHTML=b})}):$(".jumbotron").hide();try{null!=remark?$("#start-cscs-presenter-mode").show():$("#start-cscs-presenter-mode").hide()}catch(a){$("#start-cscs-presenter-mode").hide()}var e=document.getElementById("start-cscs-presenter-mode");null!=e&&(e.onclick=a.__show_in_presenter_mode),a.__email_protector()},a.__correct_navbar=function(){$("#cscs-leftbar-markdown").find("a").each(function(a,b){$(b).addClass("reframe-prepend-domain")}),$("#cscs-leftbar-markdown").children("ul").each(function(a,b){0==$(b).hasClass("nav navbar-nav")&&$(b).addClass("nav navbar-nav"),$(this).unwrap()})},a.__markdown_post_features=function(){a.__mouseover_link(),a.__create_toc(),a.__change_table_layout(),a.__highlight_code(),a.__prepend_domain_to_links()},a.setup_markdown_page_content=function(c){b=c,a.read_file_contents(c,function(b){marked.setOptions({gfm:!0,tables:!0,breaks:!1,pedantic:!0,sanitize:!1,smartLists:!0,langPrefix:""}),marked(b,function(a,b){if(a)throw a;document.getElementById("cscs-markdown-content").innerHTML=b})}),a.__markdown_post_features()},a.read_news=function(b,c){a.read_file_contents(b,function(d){marked(d,function(b,d){if(b)throw b;$("#toc").children().remove();var e=a.__getCommentsObject("#cscs-markdown-content"," start-news ");$(d).insertAfter(e);var f=a.__getCommentsObject("#cscs-markdown-content"," end-news ");if(Number(c)>0){var g=$(f).prev();$(e).nextUntil(g).filter("h2").length>c&&(toRemove=$(e).nextUntil(g).filter("h2").slice(0,c+1).last(),toRemove.nextUntil(g).remove(),toRemove.remove(),g.remove())}a.__markdown_post_features()})})},a.two_column_mode=function(a){var b=$("#cscs-markdown-content");1==b.hasClass("col-md-7")&&b.removeClass("col-md-7"),b.addClass("col-md-9"),$("#cscs-rightbar").hide()},a.__show_in_presenter_mode=function(){document.getElementById("cscs-body-container").innerHTML=null;try{var a=remark.create({sourceUrl:b});document.getElementById("start-cscs-presenter-mode").style.display="none";var d=document.getElementById("exit-cscs-presenter-mode");d.style.display="block",null==document.location.domain?d.href=document.location.pathname:d.href=document.location.domain+document.location.pathname,a.on()}catch(a){$("#start-cscs-presenter-mode").hide()}},a.__email_protector=function(){$("#cscs-email-protector").prepend('<a href="&#109;&#097;&#105;&#108;&#116;&#111;:&#104;&#101;&#108;&#112;&#064;&#099;&#115;&#099;&#115;&#046;&#099;&#104;">Contact us</a>')},a.__mouseover_link=function(){$("#cscs-markdown-content").children("h1, h2, h3").each(function(a,b){$(b).hover(function(){$(this).wrap(function(){return"<a id='"+$(this).attr("id")+"' href='#"+$(this).attr("id")+"'></a>"})},function(){$(this).unwrap()})})},a.__create_toc=function(){$("#toc").TOC("#cscs-markdown-content",{headings:["h1","h2"]}),$("#toc").append('<a class="back-to-top" href="#">Back to top</a>'),setTimeout(function(){$("#toc").affix({offset:{top:function(){return $(".jumbotron").outerHeight()},bottom:function(){return this.bottom=$(".footer").outerHeight(!0)}}})},100);var a=$(window),b=$(document.body);b.scrollspy({target:"#toc"}),a.on("load",function(){b.scrollspy("refresh")});var c=0;$("#toc").children("ul").each(function(a,b){var d=$(this).children("li").length;d>c&&(c=d)}),1==c&&$("head").append("<style> nav[data-toggle='toc'] .nav .nav { display: block; } </style>")},a.__exit_presentation_mode=function(){null==document.location.domain?window.location.assign(document.location.pathname):window.location.assign(document.location=document.location.domain+document.location.pathname)},a.__change_table_layout=function(){$("#cscs-markdown-content").children("table").each(function(a,b){$(b).addClass("table table-striped table-bordered"),$(this).wrap(function(){return"<div class='table-responsive' ></a>"})})},a.__highlight_code=function(){try{$("pre").addClass("line-numbers"),$("pre code").addClass(function(a,b){return"language-"+b})}catch(a){console.log("error"),console.log(a)}},a.__correct_domain=function(){var a=window.location.host+"/";null!=document.location.domain&&(a=document.location.domain),a+="/";var b=["about","pipeline","running","started","structure","usecases","writing_checks","configure","examples","reference",""];return window.location.pathname.split("/").forEach(function(c){-1==b.indexOf(c)&&-1==c.indexOf(".")&&(a+=c+"/")},this),a=a.replace("//","/"),a=a.replace("//","/"),a=a.replace("//","/")},a.__prepend_domain_to_links=function(){var b=a.__correct_domain();$(".reframe-prepend-domain").each(function(a,c){$(c).attr("href",function(a,c){return window.location.protocol+"//"+(b+c).replace("//","/")})}),$("#cscs-leftbar-markdown").find("a").each(function(a,c){$(c).attr("href",function(a,c){return window.location.protocol+"//"+(b+c).replace("//","/")})}),$("#cscs-markdown-content").find("a").each(function(a,c){$(c).attr("href",function(a,c){return c.startsWith("/",0)?window.location.protocol+"//"+(b+c).replace("//","/"):c})})},a.__getCommentsObject=function(a,b){var c=null;return $(a).contents().filter(function(){return 8==this.nodeType}).each(function(a,d){if(d.nodeValue===b)return c=d,!1}),c}}(reframe);
